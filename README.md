# ATOM-BE-FE

План-факт анализ.

## Стек:

- СУБД Postgres
- Backend: express.js, pg, multer
- Frontend: react, redux toolkit, formik, react-table, react-chartjs-2, react-dropzone, axios

## Запуск в разработке

1. Установить БД Postgres. Настройки подключения backend сервера находтся в backend\utils\constants\db_connection.js
2. Выполнить скрипт backend\db\createTable.sql для создания таблицы
3. В БД добавить функции из backend\db\getFiltredWorksProcedure.sql и \backend\db\getGroupedWorksPocedure.sql
4. Установить все зависимости backend сервера. Находясь в \backend выполнить: npm i
5. Запустить backend сервер, порт для подключения к серверу задается в \backend\utils\constants\server_constants.js. Находясь в /backend выполнить: npm run start
6. Установить все зависимости frontend. Находясь в \frontend выполнить: npm i
7. URL для запросов к backend серверу задается в \frontend\src\utils\constants\constants.ts. Порт dev-сервера указвается в \frontend\vite.config.ts
8. Запустить сервер для frontend. Находясь в \frontend выполнить: npm run dev

## Интерфейс

1. В верхней части страницы выбрать файл \Works.json, содержащий список всех работ
2. Нажать на "Загрузить на сервер". Данные из файла добавляются в таблицу в БД.
3. Установить фильтр и нажать "Применить". В таблице ниже отображаются все отфильтрованные работы. На графике справа отображаются тренды планоых и фактических сумм по отфильтрованным работам.
4. В секции "Получить сгруппированные данные" нажать "Получить данные". В таблице ниже отображаются сгруппированные по месяцам данные с сумарыми значениями плановых и фактических сумм с учетом примененного фильтра (с наростающим итогом или без, в зависимости от выбранной опции). На столбчатой диаграмме ниже отображаются суммарные значения плановых и фактических сумм по месяцам. На графике справа отображается тренд наростающих значений плановых и фактических сумм за выбранный период.
